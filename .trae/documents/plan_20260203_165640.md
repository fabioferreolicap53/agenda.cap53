# Correção do Status de Participação Pendente

## 1. Backend (PocketBase Hooks)
- Alterar o arquivo `pb_hooks/notifications.pb.js` para adicionar um novo trigger `onRecordAfterUpdateRequest` na coleção `agenda_cap53_notifications`.
- Este trigger deve:
  - Verificar se o tipo da notificação é `event_invite`.
  - Capturar o novo `invite_status` (accepted/rejected).
  - Localizar o evento relacionado via ID.
  - Atualizar o campo JSON `participants_status` do evento com a decisão do usuário.
  - Utilizar o logger do PocketBase para rastrear a operação.

## 2. Frontend (Requests.tsx)
- Revisar a função `handleNotificationAction` em `pages/Requests.tsx`.
- Garantir que a atualização da notificação ocorra primeiro.
- Manter a tentativa de atualização manual do evento como redundância, mas tratar erros de permissão silenciosamente, já que o Hook garantirá a consistência.

## 3. Frontend (Calendar.tsx)
- Verificar a lógica de exibição no `EventDetailsModal`.
- Confirmar que o mapeamento de 'rejected' para 'Recusado' está consistente com os dados salvos no banco.
